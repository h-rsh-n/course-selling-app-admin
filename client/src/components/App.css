body{
  margin: 0px;
  padding: 0px;
}

import { Card, CardActionArea, CardContent, Typography } from '@mui/material'
import React, { useEffect, useState } from 'react'

const Home = () => {

  const [course,setCourse] = useState([]);

  useEffect(()=>{
    fetch("http://localhost:3000/admin/courses",{
      method:"GET",
      headers:{
        "Content-type":"application/json",
        "Authorization":"Bearer "+localStorage.getItem('token')
      }
    }).then((response)=>{
      return response.json()
    }).then((data)=>{
      setCourse(data);
    })
  },[])

  if(course.length == 0){
    return(
      <></>
    )
  }

  return (
    <div style={{paddingTop:"10px",paddingLeft:"295px"}}>
      <Typography variant='h4'>Overview</Typography>
        <div style={{margin:"20px"}}>
          {
            course.map((item)=>{
              return <DetailsCard course={item} key={item.courseId}/>
            })
          } 
        </div>
    </div>
  )
}

const DetailsCard = (props)=>{
  return(
    <div key={props.course.courseId} style={{padding:"4px"}}>
      <Card style={{width:"450px",height:"82px",boxShadow: "0px 4px 8px rgba(0, 0, 0, 0.2)",borderRadius:"10px",backgroundColor:"whitesmoke"}}>
        
            <div style={{margin:"5px",marginLeft:"10px"}}>
              <Typography variant='h6' style={{fontFamily:"cursive"}}>{props.course.title}</Typography>
            </div>
            <div style={{display:'flex'}}>
              <div style={{margin:"3px",marginLeft:"10px"}}>
                {
                  props.course.published?(
                    <div style={{backgroundColor:"rgb(59 130 246 / .25)",padding:"3px",borderRadius:"50px"}}>
                      <Typography variant='subtitle2' style={{padding:"2px",marginLeft:"5px",marginRight:"5px",fontWeight:"bold",letterSpacing:"0.4px"}} color={"rgb(59 130 246)"}>PUBLISHED</Typography>
                    </div>
                  ):(
                    <div style={{backgroundColor:"rgb(250 82 82/ .25)",padding:"3px",borderRadius:"50px"}}>
                      <Typography variant='subtitle2' style={{padding:"2px",marginLeft:"5px",marginRight:"5px",fontWeight:"bold",letterSpacing:"0.4px"}} color={"rgb(250, 82, 82)"}>!PUBLISHED</Typography>
                    </div>
                  )
                }
              </div>
              <div style={{marginLeft:"60px",marginTop:"6px",marginBottom:"2px"}}>
                  <div style={{backgroundColor:"rgb(250 176 5/.15)",padding:"2px",borderRadius:"50px"}}>
                      <Typography variant='subtitle2' style={{padding:"2px",marginLeft:"5px",marginRight:"5px",fontWeight:"bold",letterSpacing:"0.4px",fontStyle:"italic"}} color={"rgb(250, 176, 5)"}> ${props.course.price}</Typography>
                  </div>
              </div>
            </div>
          
      </Card>
    </div>
  )
} 

export default Home